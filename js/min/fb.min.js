"use strict";function populateHomeCards(){var t=getEvents(10);t.then(function(t){var e=t.data,n=3,a=$("#home-section-events .card-deck"),o=!0,i=!1,r=void 0;try{for(var s,c=e[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var d=s.value;if(-1!==d.name.indexOf("TGIFHacks")){var l=$("#templates #event-card-template").clone().removeAttr("id");if(l.find(".card-title").text(d.name),l.find(".card-img-top").attr("src",d.cover.source),l.find(".btn").attr("href","https://www.facebook.com/events/"+d.id),a.append(l),0==--n)break}}}catch(t){i=!0,r=t}finally{try{!o&&c.return&&c.return()}finally{if(i)throw r}}}),t.catch(function(){console.error("Something went wrong in fetching event data.")})}function populateEventCards(){var t=getEvents(10);t.then(function(t){nextPaging=void 0===t.paging.next?"":t.paging.next;var e=t.data,n=$("#events-section"),a=!0,o=!1,i=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done);a=!0){var c=r.value,d=$("#templates #event-card-template").clone().removeAttr("id");d.find(".event-name").text(c.name);var l=new Date(c.start_time),p=new Date(c.end_time),g="";g+=l.toDateString(),g+=" at ",g+=l.toTimeString().substring(0,5),g+=" - ",g+=l.toDateString()===p.toDateString()?"":" "+p.toDateString(),g+=p.toTimeString().substring(0,5),d.find(".event-datetime").text(g);var f=d.find(".event-description");if(c.description&&c.description.length>380){var v=c.description.substring(0,380),m=c.description.substring(380);f.text(v),f.append('<span class="ellipsis">...</span>'),f.append('<span class="more-text"></span>'),f.find(".more-text").text(m).hide(),f.append('&nbsp;&nbsp;<a href="javascript:void(0);" class="toggle-text" data-toggle="false">Show More</a>'),f.find(".toggle-text").click(function(t){var e=$(this);"false"===e.attr("data-toggle")?(e.text("Show Less"),e.attr("data-toggle","true")):(e.text("Show More"),e.attr("data-toggle","false")),e.parent().find(".ellipsis").toggle(),e.parent().find(".more-text").toggle()})}else f.text(c.description);c.cover&&d.find(".card-img-top").attr("src",c.cover.source),d.find(".btn").attr("href","https://www.facebook.com/events/"+c.id),n.append(d)}}catch(t){o=!0,i=t}finally{try{!a&&s.return&&s.return()}finally{if(o)throw i}}}),t.catch(function(){console.error("Something went wrong in fetching event data.")})}function getEvents(t){return new Promise(function(e,n){var a=function(t){console.log(t),t.error?n():e(t)};""===nextPaging?FB.api("219467331408976/events",{limit:t,fields:"id,name,description,start_time,end_time,cover",access_token:"102814740426818|Yb7Io6_Ze8Ql3EjVcsNabKyLTWo"},a):FB.api(nextPaging,a)})}!function(t,e,n){var a,o=t.getElementsByTagName(e)[0];t.getElementById(n)||((a=t.createElement(e)).id=n,a.src="https://connect.facebook.net/en_US/sdk.js",o.parentNode.insertBefore(a,o))}(document,"script","facebook-jssdk");var nextPaging="";window.fbAsyncInit=function(){FB.init({appId:"102814740426818",autoLogAppEvents:!0,xfbml:!0,version:"v2.10"}),"/"===window.location.pathname?populateHomeCards():"/events.html"===window.location.pathname&&(populateEventCards(),$(window).scroll(function(){document.body.scrollTop>500?$("#scroll-top-btn").fadeIn():$("#scroll-top-btn").fadeOut(),$(window).scrollTop()==$(document).height()-$(window).height()&&(""!==nextPaging?populateEventCards():$("#loading-section").hide())}))};